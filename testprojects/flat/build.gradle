buildscript {
  repositories {
      mavenCentral()
      maven {url 'https://m2proxy.atlassian.com/repository/public/'}
  }
}

allprojects {
  repositories {
        ivy { url "http://nexus.intra.vsa.de:8081/nexus/content/groups/publicivy/" }
        maven { url "http://nexus.intra.vsa.de:8081/nexus/content/groups/publicmaven/" }
  }
}

subprojects {

  apply { plugin 'eclipse' } 
  apply { plugin 'java' } 
  repositories {
    mavenCentral()
  }
}

buildscript {
    dependencies {
        classpath fileTree (dir: '../../eclipseplugin/build/libs/', include: '*.jar', exclude: '*source*')
        classpath fileTree (dir: '../../eclipsefeature/build/libs/', include: '*.jar', exclude: '*source*')
        classpath fileTree (dir: '../../eclipsebase/build/libs/', include: '*.jar', exclude: '*source*')
        classpath fileTree (dir: '../../eclipsemwe/build/libs/', include: '*.jar', exclude: '*source*')
        classpath fileTree (dir: '../../eclipseheadless/build/libs/', include: '*.jar', exclude: '*source*')
        classpath fileTree (dir: '../../eclipsesurefire/build/libs/', include: '*.jar', exclude: '*source*')
        classpath 'org.eclipse.tycho:org.eclipse.tycho.surefire.osgibooter:0.19.0'
        classpath 'org.eclipse.tycho:org.eclipse.tycho.surefire.junit:0.19.0'
        classpath 'org.eclipse.tycho:org.eclipse.tycho.surefire.junit4:0.19.0'
        classpath 'org.eclipse.tycho:org.eclipse.tycho.surefire.junit47:0.19.0'
        classpath 'org.eclipse.tycho:sisu-equinox-launching:0.19.0'
    }
}

apply {
  plugin 'java' //TODO remove after dependend task of updatesite is refactored
  plugin 'eclipsebase'
}


eclipsebase {  

 setup {
   remoteZip 'ftp://repository.intra.vsa.de/vsaeclipseTestArea/targetplatform_20151222_1231.zip'
   remoteUpdatesite 'http://download.eclipse.org/releases/luna/'
   localEclipse '/Applications/Eclipse4.5.app/Contents/Eclipse'
 }

 updatesite {
    host 'repository.intra.vsa.de'
    path 'vsaeclipseTestArea/testproject/updatesite'
    categoriesXml 'category.xml'
 }
}

